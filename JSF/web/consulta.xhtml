<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Busca</title>
        <h:outputStylesheet library="css" name="style.css"/>
    </h:head>
    <h:body class="body"> 

        <h:form>

            <header class="cabecalho">
                <p:button value="Consulta" href="consulta.jsf" class="botaoHeaderConsulta"></p:button>
                <p:button value="Cadastro" href="cadastro.jsf" class="botaoHeaderCadastro"></p:button>
            </header>
            
            <section style="height: 30px; background: #E5E5E5;"></section>

            <section class="corpo">

                <div class="pesquisaProduto">
                    <h:outputLabel>Informe parte do nome do produto: </h:outputLabel>
                    <br></br>
                    <h:inputText class="campos" value="#{beanProduto.descricao}"/>
                    <h:commandButton class="botaopesquisa" value="Pesquisar" action="#{beanProduto.consultar()}"></h:commandButton> 
                </div>

                <div class="pesquisaCategoria">
                    <p:selectBooleanCheckbox value="#{beanProduto.checkFilter}" itemLabel="Filtrar por categoria?"/>
                    <br></br>
                    <h:selectOneMenu class="categoriaConsulta" value="#{beanProduto.categoria}">
                        <f:selectItems value="#{beanProduto.categoriasEnum}" var="cat" itemLabel="#{cat.descricao}" itemValue="#{cat}" />
                    </h:selectOneMenu> 
                </div>

                <h:dataTable class="datatable" id="dataTable" var="pdt" value="#{beanProduto.lista}">
                    <h:column>
                        <f:facet name="header">ID Produto</f:facet>
                        <h:outputLabel value="#{pdt.idProduto}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Descrição</f:facet>
                        <h:outputLabel value="#{pdt.descricao}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Estoque</f:facet>
                        <h:outputLabel value="#{pdt.estoque}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Preço</f:facet>
                        <h:outputLabel value="#{pdt.preco}" />
                    </h:column> 
                    <h:column>
                        <f:facet name="header">Categoria</f:facet>
                        <h:outputLabel value="#{pdt.fkCategoria}" />
                    </h:column> 
                    <h:column>
                        <f:facet name="header">Obsevação</f:facet>
                        <h:outputLabel value="#{pdt.observacao}" />
                    </h:column>  
                    <h:column>
                        <h:commandButton value="Editar" action="#{beanProduto.Editar(pdt)}"></h:commandButton>
                        <h:commandButton value="Excluir" action="#{beanProduto.Excluir(pdt)}"></h:commandButton>
                    </h:column>
                </h:dataTable> 
            </section>

            <footer class="rodape">
                <h:outputText class="textoRodape" value="Direitos autorais reservados"></h:outputText>
            </footer>
        </h:form>
    </h:body>
</html>

